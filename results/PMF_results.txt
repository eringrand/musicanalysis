>>> for var in [1.0, 0.1, 0.01, 0.001]:
...     for d in [10, 20, 40, 80]:
...         for iter in [30]:
...             print var, d, iter
...             print MF(M_train,M_test,var, omega, omega_test, omegau_train, omegau_test,d,iter)
...             print MF(M_train_rownorm, M_test, var, omega, omega_test, omegau_train, omegau_test,d,iter)
...             print MF(M_train_colnorm, M_test, var, omega, omega_test, omegau_train, omegau_test,d,iter)
...             print MF(M_train_binary, M_test, var, omega, omega_test, omegau_train, omegau_test,d,iter)
...             print MF(M_train_tfidf, M_test, var, omega, omega_test, omegau_train, omegau_test,d,iter)       
... 
1.0 10 30
[0.0013571238757251148, 0.002319263596114278, 0.0023642565605903904, 0.0022691693745972154, 0.0022497446354212726, 0.002154901326513764, 0.002090737436151316]
[0.0062545006248344555, 0.012996506077218755, 0.012925527337233688, 0.012923227810906598, 0.01292322336743897, 0.01292322336743897, 0.01292322336743897]
[0.00028171476418547366, 0.0007263085368802483, 0.0008792168853041432, 0.0008745019253977388, 0.000830258457006117, 0.0008045532606531685, 0.0007201223717956299]
[0.008651052093958552, 0.014326024352809493, 0.01430565079812415, 0.014305675409777506, 0.014305675409777506, 0.014305675409777506, 0.014305675409777506]
[0.001362246771454893, 0.011860164241149685, 0.012301073946805626, 0.012286389654651191, 0.012285812625880008, 0.01228582877614926, 0.01228583085703181]
1.0 20 30
[0.0017228937969067059, 0.003071537226774241, 0.002854199968059354, 0.002787692780879537, 0.002718155476086699, 0.0026468053176989244, 0.002680483124962397]
[0.0075322519630933865, 0.013029301608167598, 0.01292610750608053, 0.012923443495911619, 0.01292322336743897, 0.01292322336743897, 0.01292322336743897]
[0.0003056107613822195, 0.000836529755448573, 0.0009613334701072703, 0.0009670222976095603, 0.0009032895460236691, 0.000829598045340425, 0.0007994431850040845]
[0.008141012265594607, 0.01436915170604564, 0.014305652272089088, 0.014305675409777506, 0.014305675409777506, 0.014305675409777506, 0.014305675409777506]
[0.0015328178511318168, 0.012047751130093822, 0.012273432714951267, 0.01228567148658083, 0.012285817299445714, 0.012285826098479788, 0.01228583085703181]
1.0 40 30
[0.0023474963573283285, 0.0033455457103488393, 0.002822597568052494, 0.0025899798723562563, 0.002438875826046602, 0.002387047336603494, 0.0023463894010721325]
[0.0068194126839194805, 0.012965802529189016, 0.012921829596435666, 0.01292172597963064, 0.012921726083512013, 0.012921726083512013, 0.012921726083512013]
[0.00026443268107437137, 0.0007412706872058414, 0.0007672644864689413, 0.0008154037034519414, 0.0007825852292433771, 0.0007202175407075696, 0.0006978208380023958]
[0.008622584273961294, 0.014363425813946269, 0.014305672203413587, 0.014305675409777506, 0.014305675409777506, 0.014305675409777506, 0.014305675409777506]
[0.0017061294922047867, 0.012087627447641688, 0.012257292161206745, 0.012284589731365182, 0.01228555192429033, 0.01228583085703181, 0.01228583085703181]
1.0 80 30
[0.0024305742482316015, 0.003612569191789426, 0.002895198083631249, 0.0028398550727273407, 0.0027919131821165853, 0.0029560395644681577, 0.0028392385008170727]
[0.00710549296814621, 0.012968018856322755, 0.012918812615793055, 0.012921594252643075, 0.012921719887035783, 0.012921726083512013, 0.012921726083512013]
[0.0003748277549475272, 0.0010136325370126342, 0.0009954581564580586, 0.0009341404275432909, 0.0008428524295991208, 0.0007676594105150268, 0.0007394349802689306]
[0.00987746450299918, 0.014338041514375422, 0.014307306977940614, 0.014307090425356826, 0.014307090425356826, 0.014307090425356826, 0.014307090425356826]
[0.0021364685019167975, 0.012385112793916632, 0.012278096087732452, 0.012285188011377953, 0.012285151910605368, 0.012285045695948162, 0.012285045695948162]
0.1 10 30
[0.0006144535358718581, 0.0009944591959806198, 0.0013455890720602947, 0.0014991295814437498, 0.0016844195332051464, 0.0018316206728386576, 0.001963138549318022]
[0.005423170599163111, 0.013029890220803662, 0.011861825128904172, 0.011532755313425734, 0.01144596915046272, 0.011314286779664997, 0.011309157357555144]
[0.00035109954640843587, 0.0005505894939762595, 0.0004124643890411529, 0.000374610591733402, 0.0003163564369001823, 0.0002986553874332067, 0.00027110240679006713]
[0.0014855051888458324, 0.011043554604549866, 0.010319242371554009, 0.010243844766958193, 0.010336923805782855, 0.010370915061548006, 0.010375757692537879]
[0.0007950084893606692, 0.0012953224079355601, 0.0007931451385629495, 0.0007122237696178898, 0.0006908942854111792, 0.0006584104080724991, 0.0006295181549768983]
0.1 20 30
[0.0013471470518801312, 0.0014703394183931732, 0.0015314147752016343, 0.0016234805822647048, 0.0015319463962455997, 0.001504522957634585, 0.0014481926758756712]
[0.006103646906395189, 0.013675688370636355, 0.012118390889793225, 0.011786356707910131, 0.0115095238921306, 0.011453221810078863, 0.011333174597268502]
[0.00022244593486027214, 0.0009983589911811495, 0.0007723899801133483, 0.0004380721279460244, 0.00034280990170572427, 0.0003277655408466666, 0.00030400099360104954]
[0.0021188959854921735, 0.012042496244313972, 0.010249344017782634, 0.010354337491919854, 0.010380238269911342, 0.010399254662851005, 0.01040061327542495]
[0.0009516804041394349, 0.0015228642564224573, 0.0008952037306635478, 0.000693754361559168, 0.0006006073877498886, 0.0005892444990512037, 0.0005921883508129874]
0.1 40 30
[0.0018375141556357148, 0.0022564503046451894, 0.0017531438504678036, 0.0015924466833037898, 0.0014617304469204061, 0.0014431457816641944, 0.0013790311046702744]
[0.006456650823669281, 0.013822430007310899, 0.012253309691350854, 0.011766537283866252, 0.011457857756044737, 0.011369115380436976, 0.011269430515387723]
[0.00045030812805507713, 0.0019027692539231502, 0.0009158126696173077, 0.00043563472282462704, 0.0003625873185245152, 0.0003589976119322991, 0.0003711874771436362]
[0.002811786215799444, 0.010934321669428931, 0.010117633946434723, 0.010365516829230917, 0.010397725647274567, 0.010402034148975564, 0.010401801899631411]
[0.001305323407728152, 0.0025135930175252457, 0.0011800495526778233, 0.00092967592187046, 0.0007921105864261805, 0.0007427476824528957, 0.0007025470318596518]
0.1 80 30
[0.001660172656841547, 0.0031232728501682646, 0.002501137182641579, 0.0022441839937658143, 0.0021568216530373457, 0.00210730895172123, 0.002055453781819986]
[0.0067052579219891145, 0.014304651101916267, 0.012489823329381105, 0.011817958057038808, 0.011494152109183635, 0.011413515745802575, 0.01132212698738351]
[0.0003492471583646777, 0.002810156322804606, 0.0011047949024647911, 0.00047096867604169414, 0.0003920670577017338, 0.0003336142402509147, 0.00032733997669490595]
[0.003285373097971328, 0.011082212390098857, 0.009853188399208731, 0.010386529330330746, 0.010330392648662633, 0.010406746755521725, 0.010392993681629608]
[0.0015984070714069145, 0.004540595131574273, 0.0016415205106937916, 0.0011821277093817782, 0.0009923223941812696, 0.0008753076075815789, 0.0008152442821352427]
0.01 10 30
[0.0006195980314687736, 0.0005962766903668654, 0.0006419252979389487, 0.0008629135543644918, 0.000767861079354447, 0.0007997961570737739, 0.000848673324623211]
[0.002227142077841556, 0.0028251367621185577, 0.0030019816265081205, 0.003245858982117815, 0.0032839515463450185, 0.003337896967994574, 0.0034523951304038826]
[0.00027903280494491825, 0.00029448796856321494, 0.0003021203290868925, 0.0002850034371556855, 0.00028390492431409285, 0.00027472368600359474, 0.0002719058864401851]
[0.0005517377103672631, 0.0007125451985893014, 0.0011438921198875828, 0.0009137416295357878, 0.0010275912005937925, 0.001326390081757338, 0.0016361299822824798]
[0.0009428822370709249, 0.0010214982524648117, 0.0010419984421149314, 0.0008879411800592077, 0.0008521888435893813, 0.0008077469637369611, 0.0007689098072732192]
0.01 20 30
[0.0011820675780924064, 0.0016306516567109906, 0.001812916543856612, 0.0017383642095559636, 0.001727511366595025, 0.0017255565011155482, 0.0017134882385780818]
[0.0024354560013593895, 0.0034383969505800385, 0.003366121780825526, 0.0033484443361403026, 0.0033996634089638747, 0.0034228212092897625, 0.003450105427037014]
[0.00033795267900873626, 0.0004925701850675482, 0.0006214631538762217, 0.0006720562523365898, 0.0006150512119980587, 0.0005838077763967979, 0.0005027756012787268]
[0.0013548016784140518, 0.0024931607869868155, 0.0025746571360900136, 0.0009615778376369762, 0.00095019878026785, 0.0009165561481010514, 0.001004557592485262]
[0.0013811553273487878, 0.001352390820487665, 0.0012956603483074954, 0.0011367023684942512, 0.0011056469413071265, 0.001046523463030714, 0.0010470305195897922]
0.01 40 30
[0.0018648497624112331, 0.001965179647282764, 0.002034083205169243, 0.0018841488531530354, 0.0017326533439122173, 0.0016306419262923798, 0.0015743271802326564]
[0.003049335824853573, 0.00471298109582639, 0.004430167187700618, 0.004195376322084494, 0.004005196103611201, 0.003915874851446105, 0.003797147681013039]
[0.0002657482249992348, 0.0012743115361216332, 0.0017360881341041958, 0.0016646460513295882, 0.0015708362058470917, 0.0015363657172899892, 0.0014084460132667712]
[0.0021115698709275508, 0.0026873419532395235, 0.00171312168066904, 0.0012427261656874165, 0.0009720982682757646, 0.0018608931774076105, 0.002537869884821429]
[0.0012037168782885906, 0.0012616790778903627, 0.0013671809619582478, 0.0014906395914371694, 0.0014761432616757027, 0.0013949916609335648, 0.0013998412097958927]
0.01 80 30
[0.0018444859011504033, 0.0033693900796757464, 0.003662558735969562, 0.0036492384349610858, 0.0032824917697720913, 0.0030874575248926095, 0.00301486425385719]
[0.00331881780997162, 0.0070448981719930075, 0.006776799351713593, 0.006382205662198432, 0.005796930589054779, 0.005333293919601672, 0.0048866329634737245]
[0.0003590463433381903, 0.002391917892533945, 0.0030318253345224208, 0.002655495069140422, 0.002423488218814612, 0.0022868885273732965, 0.0021026020919519928]
[0.0023134974641690173, 0.003828567776414384, 0.0021045466919330466, 0.0022818556994759066, 0.008673965129275886, 0.008632240680867178, 0.006817723199929245]
[0.0013971651460770828, 0.002734268675325399, 0.0026697619158256116, 0.0027071712756178853, 0.0025896976459663682, 0.0023597157247837682, 0.0023097352419162815]
0.001 10 30
[0.0003960389710776341, 0.0005977133543647961, 0.000629294046278815, 0.0006481004461130889, 0.0007128361381173034, 0.0007756271336640653, 0.0007520848560789018]
[0.0008970074571098399, 0.0016573258596758087, 0.002053282833722788, 0.0026195101343211057, 0.0027863218834565558, 0.0029055356723877656, 0.002933371215979053]
[0.0003865296376881304, 0.00028846942304741445, 0.00030275029758867334, 0.0003428117660117879, 0.0003291205695658445, 0.00032392531973380614, 0.00030189314405979547]
[0.0004591842058068819, 0.0006221270139620364, 0.0007201651494261091, 0.0008062877966094728, 0.0008382455868230851, 0.0009036702493443593, 0.0008480017784384104]
[0.000605899580666996, 0.0007956526379131711, 0.000802782059985763, 0.0008129190944686325, 0.0008802654197894195, 0.0009012997062065427, 0.0010630310990296622]
0.001 20 30
[0.0013560605558149764, 0.0015908158790920183, 0.0014912973622253141, 0.0015511399596457307, 0.0015623233698460973, 0.0015617456657000728, 0.0015911295139726489]
[0.0018175782814567809, 0.0025197533151493224, 0.0028996279773933886, 0.0030676959032138944, 0.0031068402890066407, 0.0030041521095413096, 0.0030481946447570695]
[0.0004099171020521427, 0.00043398847666836413, 0.00036873697020697974, 0.00037442092575668896, 0.0003752166853073628, 0.0003887152468683631, 0.0004195373227011445]
[0.0013203559443080268, 0.0017576050455534226, 0.002049067405168605, 0.0022517095811838777, 0.0027186752327513163, 0.002892882029556596, 0.0030688655330125725]
[0.0013234105988775846, 0.0012534637788594346, 0.00140714181987972, 0.0015019038310371438, 0.001497341976911997, 0.0013886657865187825, 0.0013919968491379238]
0.001 40 30
[0.0014866563295022955, 0.0020196200007810815, 0.0021246492373510344, 0.0021317403034627753, 0.0021382118311534825, 0.0021226516983907794, 0.0021132078514467063]
[0.002043490276809083, 0.003019507439494797, 0.0033133600252446146, 0.0036045500240482415, 0.003755002832046523, 0.003921553181914451, 0.003874454994870248]
[0.00044384018373880404, 0.0010348229781899033, 0.001123911342597316, 0.0011869785818842205, 0.0011999193116743565, 0.0011935435322729903, 0.0012153122207226006]
[0.0018328574381764069, 0.0027064329873254535, 0.002449778013139901, 0.0024624142370317757, 0.0025022339969830625, 0.0025405601050631044, 0.0024780425276946976]
[0.0016353858372330293, 0.0018351004394650697, 0.00171343750275407, 0.001770682277254102, 0.0016830146225976458, 0.0016449782215792689, 0.0016168566110429158]
0.001 80 30
[0.001784736690131724, 0.0034139483604198823, 0.003292065467628704, 0.003322191547789796, 0.0034516845017807836, 0.00361021715934358, 0.003656502435974204]
[0.002025872443171893, 0.004026244136749138, 0.0047062852693970795, 0.004865997266826357, 0.004960101722650968, 0.004990856384609984, 0.005014003958648552]
[0.0005431639338847984, 0.002114553771833268, 0.0021517032966029393, 0.0021049187951869687, 0.0022071598467107013, 0.0022582798359669057, 0.0023519775931137195]
[0.002134923399027617, 0.003868454466531422, 0.003293287482614894, 0.0029425945241473165, 0.0026846061330710403, 0.002391078650859537, 0.0021310698491763492]
[0.001515121117171684, 0.002318856465528234, 0.002136924702778504, 0.0020516671458513523, 0.0020834815798485094, 0.0021358726968787717, 0.0021397785169004055]


print MF(M_train,M_test,0.0001, omega, omega_test, omegau_train, omegau_test,80,50)
[0.0014490661621486408, 0.002794066112870774, 0.002698689081004581, 0.0026888838276320826, 0.0027251746536056816, 0.0027955393128139038, 0.002805011652773121, 0.0028129946361035575, 0.0028416880470195144, 0.0028504221192950058, 0.002941387908997971]

>>> MAP, L =  MF(M_train,M_test,0.0001, omega, omega_test, omegau_train, omegau_test,80,100)
>>> MAP
[0.0016595250975636575, 0.003120261090714513, 0.003099369009459462, 0.003114874309392924, 0.003126565194113862, 0.00309603460933125, 0.0031318057878223474, 0.0032272134945520873, 0.0032368222778618046, 0.0032357082819181038, 0.0032305141637983836, 0.003249468049569944, 0.003253541291901569, 0.0032735149265940575, 0.0032702963794867534, 0.003253287244832833, 0.003251545246541125, 0.003259806180798272, 0.0032671698823051585, 0.003269618341344015, 0.0032030134433779236]
>>> L
[-5482315.19391781, -4899222.3614279013, -4780145.9481942635, -4728334.066551717, -4701357.5572964717, -4685288.2470801361, -4674393.8374348255, -4666155.4684674572, -4659450.100154683, -4653717.9765912462, -4648630.2305243574, -4643987.2489876235, -4639664.9655665951, -4635580.997644593, -4631680.1461413102, -4627924.5790104344, -4624287.8156246496, -4620751.0765961092, -4617300.955654514, -4613927.4814795535, -4610622.6986589963, -4607379.5703823511, -4604191.4132503401, -4601052.3305810764, -4597958.2672819905, -4594907.1140480051, -4591898.1078941645, -4588931.4596581375, -4586007.2520945501, -4583123.8884688392, -4580277.9425630961, -4577465.7010957068, -4574684.7068441231, -4571933.8239914924, -4569212.6672827583, -4566521.0458566826, -4563858.3646170748, -4561223.0895594619, -4558613.206666165, -4556026.9046106702, -4553462.792410926, -4550919.7444605688, -4548396.5124344202, -4545892.0064408695, -4543405.6081197336, -4540937.0245903591, -4538486.1049682898, -4536052.7512038862, -4533636.8858990576, -4531238.3665258344, -4528856.8172045732, -4526491.467519586, -4524141.2291781036, -4521804.9263499165, -4519481.4038671134, -4517169.729808487, -4514869.2542805541, -4512579.5193601167, -4510300.1859755199, -4508030.993886617, -4505771.7347834455, -4503522.2545479583, -4501282.4655360151, -4499052.3396128556, -4496831.8659548061, -4494620.9710110407, -4492419.5085437903, -4490227.2998231193, -4488044.1775607588, -4485870.0043343706, -4483704.6616530418, -4481548.0352867534, -4479400.0046091704, -4477260.4663352398, -4475129.3440028299, -4473006.5932442741, -4470892.1447644448, -4468785.890103003, -4466687.7823847914, -4464597.8151565297, -4462515.9764590217, -4460442.213473347, -4458376.4229428396, -4456318.4577647951, -4454268.1539574508, -4452225.3514540559, -4450189.9162548175, -4448161.7475036103, -4446140.7933738669, -4444127.0599023197, -4442120.6247231858, -4440121.648756275, -4438130.3989691157, -4436147.2789206468, -4434172.8302189987, -4432207.6259564906, -4430251.887293946, -4428304.9018577747, -4426365.2687490601, -4424431.9212145861]


... for var in [100, 10]:
...     for d in [10, 20, 40, 80]:
...         for iter in [30]:
...             print var, d, iter
...             print MF(M_train,M_test,var, omega, omega_test, omegau_train, omegau_test,d,iter)
...             print MF(M_train_rownorm, M_test, var, omega, omega_test, omegau_train, omegau_test,d,iter)
...             print MF(M_train_colnorm, M_test, var, omega, omega_test, omegau_train, omegau_test,d,iter)
...             print MF(M_train_binary, M_test, var, omega, omega_test, omegau_train, omegau_test,d,iter)
...             print MF(M_train_tfidf, M_test, var, omega, omega_test, omegau_train, omegau_test,d,iter)       
... 
100 10 30
0.00257491995725
0.0115411330467
0.00055508117914
0.0132576216687
0.0109194220663
100 20 30
0.00259178536843
0.0115411330467
0.000547858862659
0.0132576216687
0.0109194220663
100 40 30
0.00257945002627
0.0115411330467
0.000559872635083
0.0132576216687
0.0109197182614
100 80 30
0.0025880962388
0.0115411330467
0.000541028133535
0.0132576216687
0.010919423835
10 10 30
0.0049711181338
0.0115411330467
0.000556501824951
0.0132576216687
0.0109197182614
10 20 30
0.00592067882059
0.0115411330467
0.000612940011151
0.0132576216687
0.010919421865
10 40 30
0.0058763701249
0.0115411330467
0.000538393936933
0.0132576216687
0.0109194272274
10 80 30
0.00599727826752
0.0115411330467
0.000617470288895
0.0132576216687
0.0109194207492
